@{
    ViewData["Title"] = "GetAll";
}

<h1>GetAll</h1>
<table class="table table-bordered table-striped" id="tblAllStudents">
    <thead>
        <tr>
            <th>Id</th>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th colspan="3">Action</th>
        </tr>
    </thead>
</table>

<script src="~/lib/jquery/dist/jquery.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $.ajax({
            type: 'GET', 
            url: 'https://localhost:44325/api/students',
            dataType: 'JSON',
            crossDomain: true,
            contentType: 'application/json; charset=utf-8',
            success: function (data) {
                var loadStudents = "";
                $.each(data, function (index, value) {
                    loadStudents += '<tr><td>' + value.id + '</td><td>' + value.name + '</td><td>' + value.email + '</td><td>' + value.phoneNo + '</td><td><a class="btn btn-success">Add</a></td><td><a class="btn btn-success">Edit</a></td><td><a class="btn btn-success">Delete</a></td></tr>';
                });
                $('#tblAllStudents').append(loadStudents);
            },
            error: function (error) {
                alert("error");
            },
        });
    });
</script>
